<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html" xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:a4j="http://richfaces.org/a4j" xmlns:rich="http://richfaces.org/rich">
<body>
<ui:composition template="/WEB-INF/templates/layout.xhtml">
	<ui:param name="section" value="home" />
	<ui:param name="page" value="profile" />

	<ui:define name="navigation">
		<ui:include src="navigation.xhtml" />
	</ui:define>

	<ui:define name="page-header">
		<h:graphicImage library="images/32x32" name="profile.png" />
		<h2 class="title"><h:outputText value="Passwort ändern" /></h2>
	</ui:define>

	<ui:define name="page-content">
		<p>
			<h:outputText value="Auf dieser Seite haben Sie die Möglichkeit Ihr aktuelles Tacos Passwort zu ändern." />
		</p>
		<rich:messages errorClass="errorMessage" globalOnly="true" />
		<fieldset class="defaultStyle">
			<ol>
				<li class="left">
					<h:outputLabel for="oldPassword" value="Altes Passwort"> <em class="required">*</em> </h:outputLabel>
					<div class="input">
						<h:inputSecret id="oldPassword" value="#{changePasswordBean.oldPassword}" 
							required="true" requiredMessage="Bitte geben Sie Ihr altes Passwort an">
							<rich:ajaxValidator event="onblur" />
						</h:inputSecret> 
						<rich:message for="oldPassword" errorClass="error" />
					</div>
				</li>
				<li class="left">
					<h:outputLabel for="password" value="Neues Passwort"> <em class="required">*</em> </h:outputLabel>
					<div class="input">
						<h:inputSecret id="password" value="#{changePasswordBean.password}" 
							required="true" requiredMessage="Bitte geben Sie ein neues Passwort ein">
							<f:validator validatorId="validator.passwordMatch" />
							<rich:ajaxValidator event="onblur" />
						</h:inputSecret> 
						<rich:message for="password" errorClass="error" />
					</div>
				</li>
				<li class="right">
					<h:outputLabel for="password2" value="Wiederholen"> <em class="required">*</em> </h:outputLabel>
					<div class="input">
						<h:inputSecret id="password2" value="#{changePasswordBean.password2}" 
							required="true" requiredMessage="Bitte wiederholen Sie ihr Passwort">
							<f:validator validatorId="validator.passwordMatch" />
							<rich:ajaxValidator event="onblur" />
						</h:inputSecret>
						<rich:message for="password2" errorClass="error" />
					</div> 
				</li>
			</ol>
		</fieldset>
		<fieldset class="defaultStyle last">
			<div class="actionBar">
				<a4j:commandLink styleClass="button" action="#{changePasswordBean.abort}">
					<span> <h:outputText value="Abbrechen" /> </span>
				</a4j:commandLink>
				<a4j:commandLink styleClass="button" action="#{changePasswordBean.persist}">
					<span> <h:outputText value="Passwort speichern" /> </span>
				</a4j:commandLink>
			</div>
		</fieldset>
	</ui:define>
</ui:composition>
</body>
</html>